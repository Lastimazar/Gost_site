class TechStore{constructor(){this.products=[{id:1,name:'–°–º–∞—Ä—Ç—Ñ–æ–Ω Samsung Galaxy',price:25999,image:'images/sumsung.jpg',category:'phones'},{id:2,name:'–ù–æ—É—Ç–±—É–∫ HP Pavilion',price:45999,image:'images/HPLaptop.jpg',category:'laptops'},{id:3,name:'–ü–ª–∞–Ω—à–µ—Ç Apple iPad',price:34999,image:'images/i.webp',category:'tablets'},{id:4,name:'–ù–∞—É—à–Ω–∏–∫–∏ Sony WH-1000XM4',price:19999,image:'images/Sony.webp',category:'audio'},{id:5,name:'–°–º–∞—Ä—Ç-—á–∞—Å—ã Apple Watch',price:29999,image:'images/AppleWatch.jpg',category:'wearables'},{id:6,name:'–§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç Canon EOS',price:59999,image:'images/iCanonEOS.webp',category:'photo'}];this.cart=[];this.init();}init(){this.loadCart();this.setupEventListeners();this.updateCartDisplay();this.setupProductCards();}loadCart(){const saved=localStorage.getItem('techstore_cart');this.cart=saved?JSON.parse(saved):[];}saveCart(){localStorage.setItem('techstore_cart',JSON.stringify(this.cart));}setupEventListeners(){document.getElementById('searchInput').addEventListener('input',(e)=>{this.filterProducts(e.target.value);});document.getElementById('cartButton').addEventListener('click',()=>{this.openCart();});document.querySelector('.close').addEventListener('click',()=>{this.closeCart();});document.getElementById('clearCart').addEventListener('click',()=>{this.clearCart();});document.getElementById('contactForm').addEventListener('submit',(e)=>{e.preventDefault();this.handleFormSubmit(e);});window.addEventListener('click',(e)=>{if(e.target===document.getElementById('cartModal')){this.closeCart();}});}setupProductCards(){document.querySelectorAll('.add-to-cart').forEach(button=>{button.addEventListener('click',(e)=>{const productId=parseInt(e.target.dataset.id);const product=this.products.find(p=>p.id===productId);if(product){this.addToCart(product);}});});document.querySelectorAll('.product-image img').forEach(img=>{img.addEventListener('error',()=>{img.src='https://via.placeholder.com/300x200/64748b/ffffff?text=–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ+–Ω–µ+–∑–∞–≥—Ä—É–∂–µ–Ω–æ';img.alt='–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ';});});}filterProducts(searchTerm){const productCards=document.querySelectorAll('.product-card');productCards.forEach(card=>{const productName=card.querySelector('.product-name').textContent.toLowerCase();const shouldShow=!searchTerm||productName.includes(searchTerm.toLowerCase());card.style.display=shouldShow?'block':'none';});const visibleCards=document.querySelectorAll('.product-card[style="display: block"], .product-card:not([style])');const noProductsMsg=document.querySelector('.no-products');if(visibleCards.length===0){if(!noProductsMsg){const msg=document.createElement('div');msg.className='no-products';msg.textContent='–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã';document.getElementById('productsGrid').appendChild(msg);}}else if(noProductsMsg){noProductsMsg.remove();}}addToCart(product){const existing=this.cart.find(item=>item.id===product.id);if(existing){existing.quantity++;}else{this.cart.push({...product,quantity:1});}this.saveCart();this.updateCartDisplay();this.showNotification(`"${product.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É`,'success');}removeFromCart(productId){this.cart=this.cart.filter(item=>item.id!==productId);this.saveCart();this.updateCartDisplay();this.renderCartItems();}updateQuantity(productId,change){const item=this.cart.find(item=>item.id===productId);if(item){item.quantity+=change;if(item.quantity<=0){this.removeFromCart(productId);}else{this.saveCart();this.updateCartDisplay();this.renderCartItems();}}}clearCart(){this.cart=[];this.saveCart();this.updateCartDisplay();this.renderCartItems();this.showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞','warning');}updateCartDisplay(){const count=this.cart.reduce((sum,item)=>sum+item.quantity,0);const total=this.cart.reduce((sum,item)=>sum+(item.price*item.quantity),0);document.getElementById('cartCount').textContent=count;document.getElementById('cartTotal').textContent=total.toLocaleString();}openCart(){document.getElementById('cartModal').style.display='block';this.renderCartItems();}closeCart(){document.getElementById('cartModal').style.display='none';}renderCartItems(){const container=document.getElementById('cartItems');container.innerHTML='';if(this.cart.length===0){container.innerHTML='<div class="empty-cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>';return;}this.cart.forEach(item=>{const cartItem=document.createElement('div');cartItem.className='cart-item';cartItem.innerHTML=`<div class="item-image"><img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/60x60/64748b/ffffff?text=No+Image'"></div><div class="item-info"><div class="item-name">${item.name}</div><div class="item-price">${item.price.toLocaleString()} —Ä—É–±.</div><div class="item-quantity"><button class="quantity-btn minus" data-id="${item.id}">-</button><span>${item.quantity} —à—Ç.</span><button class="quantity-btn plus" data-id="${item.id}">+</button></div></div><button class="remove-btn" data-id="${item.id}">üóëÔ∏è</button>`;cartItem.querySelector('.minus').addEventListener('click',()=>{this.updateQuantity(item.id,-1);});cartItem.querySelector('.plus').addEventListener('click',()=>{this.updateQuantity(item.id,1);});cartItem.querySelector('.remove-btn').addEventListener('click',()=>{this.removeFromCart(item.id);});container.appendChild(cartItem);});}handleFormSubmit(e){const formData=new FormData(e.target);const data={name:document.getElementById('name').value.trim(),email:document.getElementById('email').value.trim(),message:document.getElementById('message').value.trim()};if(this.validateForm(data)){this.showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ —Å–∫–æ—Ä–æ.','success');e.target.reset();}}validateForm(data){let isValid=true;if(data.name.length<2){this.showError('nameError','–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞');isValid=false;}else{this.hideError('nameError');}const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!emailRegex.test(data.email)){this.showError('emailError','–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email');isValid=false;}else{this.hideError('emailError');}if(data.message.length<10){this.showError('messageError','–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤');isValid=false;}else{this.hideError('messageError');}return isValid;}showError(elementId,message){const element=document.getElementById(elementId);element.textContent=message;element.style.display='block';}hideError(elementId){const element=document.getElementById(elementId);element.style.display='none';}showNotification(message,type='success'){const notification=document.getElementById('notification');notification.textContent=message;notification.className=`notification ${type} show`;setTimeout(()=>{notification.classList.remove('show');},3000);}}document.addEventListener('DOMContentLoaded',()=>{window.techStore=new TechStore();});